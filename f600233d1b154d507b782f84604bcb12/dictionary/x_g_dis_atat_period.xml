<?xml version="1.0" encoding="UTF-8"?><database>
    <element label="DAPPS:Period" max_length="40" name="x_g_dis_atat_period" sizeclass="0" type="collection">
        <element calculation="function calculateMonths(unit_count, unit) {&#13;&#10;    var ERROR_VALUE = -1;&#13;&#10;    //check parameter types&#13;&#10;    if (typeof unit_count !== &quot;number&quot;) {&#13;&#10;        gs.debug(&quot;Function calculateMonths accepts a number for parameter unit_count.  Received &quot; + typeof unit_count + &quot; instead.&quot;);&#13;&#10;    }&#13;&#10;    if (typeof unit !== &quot;string&quot;) {&#13;&#10;        gs.debug(&quot;Function calculateMonths accepts a string for parameter unit.  Received &quot; + typeof unit + &quot; instead.&quot;);&#13;&#10;    }&#13;&#10;    //ensure unit count is greater than zero&#13;&#10;    if (unit_count &lt; 0) {&#13;&#10;        gs.debug(&quot;Parameter unit_count for function calculateMonths is expected to be greater than 0.  Received &quot; + unit_count);&#13;&#10;        return ERROR_VALUE;&#13;&#10;    }&#13;&#10;    //perform the calcuation&#13;&#10;    switch (unit) {&#13;&#10;        case &quot;YEAR&quot;:&#13;&#10;            var MONTHS_PER_YEAR = 12;&#13;&#10;            return unit_count * MONTHS_PER_YEAR;&#13;&#10;        case &quot;MONTH&quot;:&#13;&#10;            return unit_count;&#13;&#10;        case &quot;WEEK&quot;:&#13;&#10;            /* Average weeks in a month = 4.345 ( X weeks / 4.345 = Y months) */&#13;&#10;            /* Ex 1: 36 weeks (36/4.345 = 8.285 --&gt; Round up to 9 months) */&#13;&#10;            /* Ex 2: 1 week (1/4.345 = 0.230 --&gt; Round up to 1 month) */&#13;&#10;            var AVG_WEEKS_PER_MONTH = 4.345;&#13;&#10;            return Math.ceil(unit_count / AVG_WEEKS_PER_MONTH);&#13;&#10;        case &quot;DAY&quot;:&#13;&#10;            /* Average days in a month = 30.4167  ( X days / 30.4167 = Y months) */&#13;&#10;            /* Ex 1: 252 days (259/30.4167 = 8.284 --&gt; Round up to 9 months) */&#13;&#10;            /* Ex 2: 1 day (1/30.4167 = 0.032 --&gt; Round up to 1 month) */&#13;&#10;            var AVG_DAYS_PER_MONTH = 30.4167;&#13;&#10;            return Math.ceil(unit_count / AVG_DAYS_PER_MONTH);&#13;&#10;        default:&#13;&#10;            gs.debug(&quot;Parameter unit for function calculateMonths is expected to be one of YEAR/MONTH/WEEK/DAY.  Received &quot; + unit);&#13;&#10;            return ERROR_VALUE;&#13;&#10;    }&#13;&#10;}&#13;&#10;&#13;&#10;(function calculatedFieldValue(current) {&#13;&#10;    return calculateMonths(current.period_unit_count, current.period_unit.toString());&#13;&#10;})(current);" label="Months in Period" max_length="40" name="months_in_period" read_only="true" type="integer" virtual="true"/>
        <element label="Option Order" max_length="40" name="option_order" type="integer"/>
        <element choice="1" label="Period Type" mandatory="true" max_length="40" name="period_type" type="choice">
            <choice>
                <element inactive_on_update="false" label="Base" value="BASE"/>
                <element inactive_on_update="false" label="Option" value="OPTION"/>
            </choice>
        </element>
        <element choice="1" label="Period Unit" mandatory="true" max_length="40" name="period_unit" type="choice">
            <choice>
                <element inactive_on_update="false" label="Day(s)" value="DAY"/>
                <element inactive_on_update="false" label="Month(s)" value="MONTH"/>
                <element inactive_on_update="false" label="Week(s)" value="WEEK"/>
                <element inactive_on_update="false" label="Year(s)" value="YEAR"/>
            </choice>
        </element>
        <element label="Period Unit Count" mandatory="true" max_length="40" name="period_unit_count" type="integer"/>
    </element>
</database>
